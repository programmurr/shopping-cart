{"version":3,"sources":["components/Home.js","components/StickyBar.js","components/shop-components/Shop.js","components/shop-components/ItemDetail.js","components/checkout-components/Basket.js","components/checkout-components/Summary.js","components/checkout-components/Checkout.js","components/Footer.js","App.js","index.js"],"names":["Home","props","className","StickyBar","id","basketLength","to","Shop","useState","currencies","setCurrencies","buyAmount","setBuyAmount","loading","setLoading","handleChange","e","target","value","handleSubmit","preventDefault","input","querySelector","amount","parseInt","rate","Object","entries","filter","currency","onSubmit","name","alert","fetchCurrencies","a","fetch","then","response","ok","json","Error","responseJson","rates","catch","err","console","error","useEffect","navBar","document","getElementById","shop","sticky","offsetTop","window","onscroll","pageYOffset","classList","add","remove","handleScroll","map","toFixed","htmlFor","type","min","max","onChange","ItemDetail","useParams","today","format","Date","lastWeek","subDays","historyRates","setHistoryRates","fetchItem","rateArray","date","rateObj","dateArray","keys","parseISO","sort","compareAsc","i","length","j","Basket","basket","handleRemove","item","onRemove","onClick","Summary","cost","setCost","amounts","forEach","push","sum","reduce","accumulator","currentValue","Checkout","Footer","href","App","setBasket","newItem","newBasket","oldBasket","index","findIndex","oldItem","concat","exact","path","removedItem","ReactDOM","render","StrictMode"],"mappings":"2NAaeA,MAXf,SAAcC,GACZ,OACE,sBAAKC,UAAU,OAAf,UACE,sCACA,iGCHS,SAASC,EAAUF,GAChC,OACE,sBAAKC,UAAU,YAAYE,GAAG,YAA9B,UACE,kDAAqBH,EAAMI,gBAC3B,cAAC,IAAD,CAAMC,GAAG,YAAT,yB,6BCuGSC,MA3Gf,SAAcN,GAAQ,IAAD,EACmBO,mBAAS,IAD5B,mBACXC,EADW,KACCC,EADD,OAEiBF,mBAAS,IAF1B,mBAEXG,EAFW,KAEAC,EAFA,OAGaJ,oBAAS,GAHtB,mBAGXK,EAHW,KAGFC,EAHE,KAKbC,EAAe,SAACC,GACpBJ,EAAaI,EAAEC,OAAOC,QAGlBC,EAAe,SAACH,GACpBA,EAAEI,iBAEF,IACMC,EADOL,EAAEC,OACIK,cAAc,SAC3BC,EAASC,SAASb,GAClBc,EAAOC,OAAOC,QAAQlB,GAAYmB,QAAO,mCAAEC,EAAF,iBAAuBA,IAAaR,EAAMjB,MAEvE,KAAdO,GAIJV,EAAM6B,SAAS,CACbD,SAAUR,EAAMU,KAChBN,KAAMA,EAAK,GAAG,GACdF,OAAQA,IAGVF,EAAMH,MAAQ,GACdN,EAAa,KAVXoB,MAAM,2DAuBJC,EAAe,uCAAG,sBAAAC,EAAA,sEAChBC,MAAM,+CACTC,MAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAEhB,MAAM,IAAIC,MAAM,oCAGnBJ,MAAK,SAACK,GACL,IAAMC,EAAQD,EAAaC,MAC3B5B,GAAW,GACXJ,EAAcgC,MAEfC,OAAM,SAACC,GACNC,QAAQC,MAAMF,MAfI,kDAAH,qDA6BrB,OAVAG,qBAAU,WACR,IAAMC,EAASC,SAASC,eAAe,aACjCC,EAAOF,SAASC,eAAe,YAC/BE,EAASJ,EAAOK,UAEtBC,OAAOC,SAAW,YAlCC,SAACP,EAAQG,EAAMC,GAC9BE,OAAOE,aAAeJ,GACxBD,EAAKM,UAAUC,IAAI,UACnBV,EAAOS,UAAUC,IAAI,YAErBP,EAAKM,UAAUE,OAAO,UACtBX,EAAOS,UAAUE,OAAO,WA4BAC,CAAaZ,EAAQG,EAAMC,IAErDnB,MACC,IAECpB,EAEA,sBAAKX,UAAU,OAAOE,GAAG,WAAzB,UACE,+CACA,gDACA,mBAAGA,GAAG,cAAN,2BAKF,sBAAKF,UAAU,OAAOE,GAAG,WAAzB,UACE,+CACA,gDACA,qBAAKF,UAAU,WAAf,SACCwB,OAAOC,QAAQlB,GAAYoD,KAAI,mCAAEhC,EAAF,KAAYJ,EAAZ,YAC9B,uBAAMK,SAAUX,EAA6BjB,UAAU,WAAvD,UACE,eAAC,IAAD,CAAMI,GAAE,gBAAWuB,GAAnB,4BAA+CA,KAC/C,oBAAGzB,GAAG,OAAN,mBAAoBqB,EAAKqC,QAAQ,MACjC,uBAAOC,QAASlC,EAAhB,kCACA,uBACEmC,KAAK,SACL5D,GAAIyB,EACJE,KAAMF,EACNoC,IAAI,IACJC,IAAI,MACJ3C,OAAQZ,EACRwD,SAAUpD,IAEZ,4CAbiCc,Y,iDC2C9BuC,MA9Hf,SAAoBnE,GAAQ,IACpB4B,EAAawC,cAAbxC,SACAyC,EAAQC,YAAO,IAAIC,KAAQ,cAC3BC,EAAWF,YAAOG,YAAQ,IAAIF,KAAQ,GAAI,cAHvB,EAIiBhE,mBAAS,IAJ1B,mBAIjBmE,EAJiB,KAIHC,EAJG,OAKWpE,mBAAS,IALpB,mBAKjBG,EALiB,KAKNC,EALM,KAOnBiE,EAAS,uCAAG,sBAAA3C,EAAA,sEACVC,MAAM,+BAAD,OACsBsC,EADtB,aACmCH,EADnC,wBACwDzC,IAElEO,MAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAEhB,MAAM,IAAIC,MAAM,0CAGnBJ,MAAK,SAACK,GAoBL,IAZA,IAAMqC,EAAYpD,OAAOC,QAAQc,EAAaC,OAAOmB,KAAI,mCAAEkB,EAAF,KAAQC,EAAR,2BACrDD,EAAOC,EAAQnD,OAGboD,EAAYvD,OAAOwD,KAAKzC,EAAaC,OACxCmB,KAAI,SAACkB,GAAD,OAAWI,IAASJ,MACxBK,KAAKC,KACLxB,KAAI,SAACkB,GAAD,OAAWR,YAAOQ,EAAM,iBAC5BlB,KAAI,SAACkB,GAAD,MACH,CAACA,EAAM,OAGFO,EAAI,EAAGA,EAAIL,EAAUM,OAAQD,IACpC,IAAK,IAAIE,EAAI,EAAGA,EAAIV,EAAUS,OAAQC,IAAK,CACzC,IAAMR,EAAUF,EAAUU,GACpBN,EAAOxD,OAAOwD,KAAKF,GACrBC,EAAUK,GAAG,KAAOJ,EAAK,KAC3BD,EAAUK,GAAG,GAAKN,EAAQC,EAAUK,GAAG,KAI7CV,EAAgBK,MAEftC,OAAM,SAACC,GACNC,QAAQC,MAAMF,MA3CF,2CAAH,qDA8Eb,OA/BFG,qBAAU,WACR8B,MACC,IA6BGF,EAAaY,OAAS,EAEtB,sBAAKrF,UAAU,aAAaE,GAAG,WAA/B,UACE,yCAAYyB,KACZ,yDACA,qBAAK3B,UAAU,gBAAf,SACGyE,EAAad,KAAI,SAACpC,GAAD,OAChB,sBAAmBvB,UAAU,WAA7B,UACE,uCAAUuB,EAAK,MACf,uCAAUA,EAAK,QAFPA,EAAK,SAMnB,sBAAKvB,UAAU,UAAf,UACE,2CACA,4DAA+ByE,EAAaA,EAAaY,OAAQ,GAAG,GAApE,IAAyE1D,KACzE,uBAAMC,SAtCO,SAACd,GACpBA,EAAEI,iBAEF,IACMC,EADOL,EAAEC,OACIK,cAAc,SAC3BC,EAASC,SAASb,GAClBc,EAAOkD,EAAaA,EAAaY,OAAQ,GAAG,GAEhC,KAAd5E,GAIJV,EAAM6B,SAAS,CACbD,SAAUR,EAAMU,KAChBN,KAAMA,EACNF,OAAQA,IAGVF,EAAMH,MAAQ,GACdN,EAAa,KAVXoB,MAAM,2DA6BF,UACE,uBAAO+B,QAASlC,EAAhB,kCACA,uBACEmC,KAAK,SACL5D,GAAIyB,EACJE,KAAMF,EACNoC,IAAI,IACJC,IAAI,MACJ3C,OAAQZ,EACRwD,SAnDS,SAACnD,GACpBJ,EAAaI,EAAEC,OAAOC,UAoDd,mDAON,qBAAKd,GAAG,WAAR,SACE,mBAAGA,GAAG,cAAN,2BC5FKqF,MA9Bf,SAAgBxF,GAAQ,IACdyF,EAAWzF,EAAXyF,OAEFC,EAAe,SAACC,GAAD,OAAU,WAC7B3F,EAAM4F,SAASD,KAGjB,OAAsB,IAAlBF,EAAOH,OAEP,qBAAKrF,UAAU,cAAf,SACE,gDAKF,qBAAKA,UAAU,SAAf,SACGwF,EAAO7B,KAAI,SAAC+B,GAAD,OACV,sBAAyB1F,UAAU,aAAnC,UACE,2CAAa,cAAC,IAAD,CAAMI,GAAE,gBAAWsF,EAAK/D,UAAxB,SAAqC+D,EAAK/D,cACvD,uCAAU+D,EAAKnE,KAAKqC,QAAQ,MAC5B,yCAAY8B,EAAKrE,UACjB,uCAAUqE,EAAK/D,SAAf,MAA4B+D,EAAKnE,KAAOmE,EAAKrE,QAAQuC,QAAQ,MAC7D,wBAAQgC,QAASH,EAAaC,GAA9B,sBALQA,EAAK/D,gBCcVkE,MAhCf,SAAiB9F,GAAQ,IACfyF,EAAWzF,EAAXyF,OADc,EAGIlF,mBAAS,GAHb,mBAGdwF,EAHc,KAGRC,EAHQ,KAwBtB,OAnBAlD,qBAAU,WACR,GAAsB,IAAlB2C,EAAOH,OACTU,EAAQ,OACH,CACL,IAAIC,EAAU,GACdR,EAAOS,SAAQ,SAAAP,GACbM,EAAQE,KAAKR,EAAKrE,WAEpB,IACM8E,EAAMH,EAAQI,QADJ,SAACC,EAAaC,GAAd,OAA+BD,EAAcC,KAE7DP,EAAQI,MAET,CAACX,IAQF,sBAAKxF,UAAU,UAAf,UACE,iDAAiB8F,KACjB,wBAAQF,QARM,WAChB9D,MAAM,mCAOJ,qBCTSyE,MAhBf,SAAkBxG,GAAQ,IAChByF,EAAWzF,EAAXyF,OAMR,OACE,sBAAKxF,UAAU,WAAf,UACE,0CACA,cAAC,EAAD,CAAQwF,OAAQA,EAAQG,SAPP,SAACD,GACpB3F,EAAM4F,SAASD,MAOb,cAAC,EAAD,CAASF,OAAQA,QCHRgB,MAVf,SAAgBzG,GACd,OACE,qBAAKC,UAAU,SAAf,SACE,4DAC6B,mBAAGyG,KAAK,+BAAR,+BCqEpBC,MA5Df,WAAgB,IAAD,EAEiBpG,mBAAS,IAF1B,mBAELkF,EAFK,KAEGmB,EAFH,KAOP1F,EAAe,SAAC2F,GACpB,IACIC,EADEC,EAAYtB,EAGlB,GAAIsB,EAAUzB,OAAS,EAAG,CACxB,IAAM0B,EAAQD,EAAUE,WAAU,SAACC,GAAD,OAAcA,EAAQtF,WAAaiF,EAAQjF,aAC9D,IAAXoF,EACFF,EAAYC,EAAUI,OAAON,IAE7BE,EAAUC,GAAO1F,QAAUuF,EAAQvF,OACnCwF,EAAYC,QAGdD,EAAYC,EAAUI,OAAON,GAE/BD,EAAUE,IASZ,OACE,cAAC,IAAD,UACE,sBAAK7G,UAAU,aAAf,UACE,gCACE,cAAC,IAAD,CAAMI,GAAG,kBAAkBF,GAAG,WAA9B,kBACA,cAAC,IAAD,CAAME,GAAG,QAAQF,GAAG,WAApB,qBAEF,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiH,OAAK,EAACC,KAAK,kBAAlB,SACE,cAAC,EAAD,MAEF,eAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,QAAlB,UACE,cAACnH,EAAD,CAAWE,aAAcqF,EAAOH,SAChC,cAAC,EAAD,CAAMzD,SAAUX,OAElB,eAAC,IAAD,CAAOmG,KAAK,kBAAZ,UACE,cAACnH,EAAD,CAAWE,aAAcqF,EAAOH,SAChC,cAAC,EAAD,CAAYzD,SAAUX,OAExB,cAAC,IAAD,CAAOmG,KAAK,YAAZ,SACE,cAAC,EAAD,CAAU5B,OAAQA,EAAQG,SA1Bf,SAAC0B,GACpB,IACMR,EADYrB,EACU9D,QAAO,SAACgE,GAAD,OAAWA,EAAK/D,WAAa0F,EAAY1F,YAC5EgF,EAAUE,WA0BN,cAAC,EAAD,UChERS,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzE,SAASC,eAAe,W","file":"static/js/main.176a240e.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Home(props) {\n  return (\n    <div className=\"Home\">\n      <h1>Home</h1>\n      <p>\n        Welcome to the currency-buying site! Lose money in the shop!\n      </p>\n    </div>\n  );\n}\n\nexport default Home;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function StickyBar(props) {\n  return (\n    <div className=\"StickyBar\" id=\"stickyNav\">\n      <p>Items in Basket: {props.basketLength}</p>\n      <Link to=\"/checkout\">Checkout</Link>\n    </div>\n  )\n}","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Shop(props) {\n  const [ currencies, setCurrencies ] = useState({});\n  const [ buyAmount, setBuyAmount ] = useState(\"\");\n  const [ loading, setLoading ] = useState(true);\n\n  const handleChange = (e) => {\n    setBuyAmount(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const form = e.target;\n    const input = form.querySelector('input');\n    const amount = parseInt(buyAmount);\n    const rate = Object.entries(currencies).filter(([currency, rate]) => (currency === input.id));\n\n    if (buyAmount === \"\") {\n      alert('Please enter a currency amount between 1 and 100 units');\n      return;\n    }\n    props.onSubmit({\n      currency: input.name,\n      rate: rate[0][1],\n      amount: amount\n    });\n\n    input.value = \"\";\n    setBuyAmount(\"\");\n  }\n\n  const handleScroll = (navBar, shop, sticky) => {\n    if (window.pageYOffset >= sticky) {\n      shop.classList.add('expand');\n      navBar.classList.add('sticky');\n    } else {\n      shop.classList.remove('expand');\n      navBar.classList.remove('sticky');\n    }\n  }\n\n  const fetchCurrencies = async () => {\n    await fetch(`https://api.frankfurter.app/latest?from=GBP`)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error(\"Currency API Shop didn't work\");\n        }\n      })\n      .then((responseJson) => {\n        const rates = responseJson.rates;\n        setLoading(false);\n        setCurrencies(rates);\n      })\n      .catch((err) => {\n        console.error(err);\n      });;\n  }\n\n  useEffect(() => {\n    const navBar = document.getElementById('stickyNav');\n    const shop = document.getElementById('shopPage');\n    const sticky = navBar.offsetTop;\n  \n    window.onscroll = () => { handleScroll(navBar, shop, sticky); }\n\n    fetchCurrencies();\n  }, [])\n\n  if (loading) {\n    return (\n      <div className=\"Shop\" id=\"shopPage\">\n        <h2>Buy Currency!</h2>\n        <h3>Base Rate: GBP</h3>\n        <p id=\"LoadingShop\">Loading...</p>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"Shop\" id=\"shopPage\">\n        <h2>Buy Currency!</h2>\n        <h3>Base Rate: GBP</h3>\n        <div className=\"ShopList\">\n        {Object.entries(currencies).map(([currency, rate]) => (\n          <form onSubmit={handleSubmit} key={currency} className=\"ShopItem\">\n            <Link to={`/shop/${currency}`}>Currency code: {currency}</Link>\n            <p id=\"rate\">Rate: {rate.toFixed(2)}</p>\n            <label htmlFor={currency}>Amount (1-100 units)</label>\n            <input \n              type=\"number\" \n              id={currency} \n              name={currency} \n              min=\"1\" \n              max=\"100\" \n              amount={buyAmount}\n              onChange={handleChange}\n            />\n            <button>Buy!</button>\n          </form>\n        ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Shop;","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { format, compareAsc, subDays } from 'date-fns';\nimport parseISO from 'date-fns/parseISO'\n\nfunction ItemDetail(props) {\n  let { currency } = useParams();\n  const today = format(new Date(), 'yyyy-MM-dd');\n  const lastWeek = format(subDays(new Date(), 8), 'yyyy-MM-dd');\n  const [ historyRates, setHistoryRates ] = useState({});\n  const [ buyAmount, setBuyAmount ] = useState(\"\");\n\n  const fetchItem = async () => {\n    await fetch(\n      `https://api.frankfurter.app/${lastWeek}..${today}?from=GBP&to=${currency}`\n    )\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error(\"Currency API ItemDetail didn't work\");\n      }\n    })\n    .then((responseJson) => {\n      // There is a better way of doing this out there somewhere, but it's beyond me.\n      // responseJson.rates is a nested Object. It arrives in date order, but iterating\n      // over it with Object.entries() throws everything off (WHY?!). So I made the below \n      // monstrous transformation to un-nest the responseJson.rates, sort the dates, \n      // put them in an array to keep them in order, then find the corresponding rate and \n      // pair them together in the dateArray. There's probably some show-off out there who\n      // can do it in one line. I DON'T CARE.\n      const rateArray = Object.entries(responseJson.rates).map(([date, rateObj]) => (\n        {[date]: rateObj[currency]}\n      ));\n\n      const dateArray = Object.keys(responseJson.rates)\n        .map((date) => (parseISO(date)))\n        .sort(compareAsc)\n        .map((date) => (format(date, 'yyyy-MM-dd')))\n        .map((date) => (\n          [date, \"\"]\n        ));\n\n      for (let i = 0; i < dateArray.length; i++) {\n        for (let j = 0; j < rateArray.length; j++) {\n          const rateObj = rateArray[j];\n          const keys = Object.keys(rateObj);\n          if (dateArray[i][0] === keys[0]) {\n            dateArray[i][1] = rateObj[dateArray[i][0]]\n          }\n        }\n      }\n      setHistoryRates(dateArray);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n    }\n\n  useEffect(() => {\n    fetchItem();\n  }, [])\n\n\n    const handleChange = (e) => {\n      setBuyAmount(e.target.value);\n    }\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n\n      const form = e.target;\n      const input = form.querySelector('input');\n      const amount = parseInt(buyAmount);\n      const rate = historyRates[historyRates.length -1][1];\n\n      if (buyAmount === \"\") {\n        alert('Please enter a currency amount between 1 and 100 units');\n        return;\n      }\n      props.onSubmit({\n        currency: input.name,\n        rate: rate,\n        amount: amount\n      });\n  \n      input.value = \"\";\n      setBuyAmount(\"\");\n    }\n\n    if (historyRates.length > 0) {\n      return (\n        <div className=\"ItemDetail\" id=\"itemPage\">\n          <h1>GBP to {currency}</h1>\n          <h2>Previous 7 Working Days</h2>\n          <div className=\"CurrencyRates\">\n            {historyRates.map((rate) => (\n              <div key={rate[0]} className=\"RateDate\">\n                <p>Date: {rate[0]}</p>\n                <p>Rate: {rate[1]}</p>\n              </div>\n            ))}\n          </div>\n          <div className=\"BuyItem\">\n            <h3>Buy Here!</h3>\n            <p>The current rate is 1GBP = {historyRates[historyRates.length -1][1]} {currency}</p>\n            <form onSubmit={handleSubmit}>\n              <label htmlFor={currency}>Amount (1-100 units)</label>\n              <input \n                type=\"number\" \n                id={currency} \n                name={currency} \n                min=\"1\" \n                max=\"100\" \n                amount={buyAmount}\n                onChange={handleChange}\n              />\n              <button>Buy!</button>\n            </form>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <div id=\"itemPage\">\n          <p id=\"LoadingItem\">Loading...</p>\n        </div>\n      );\n    }\n}\n\nexport default ItemDetail;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Basket(props) {\n  const { basket } = props;\n\n  const handleRemove = (item) => () => {\n    props.onRemove(item);\n  }\n\n  if (basket.length === 0) {\n    return (\n      <div className=\"EmptyBasket\">\n        <p>Empty Basket!</p>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"Basket\">\n        {basket.map((item) => (\n          <div key={item.currency} className=\"BasketItem\">\n            <p>Currency: <Link to={`/shop/${item.currency}`}>{item.currency}</Link></p>\n            <p>Rate: {item.rate.toFixed(2)}</p>\n            <p>Amount: {item.amount}</p>\n            <p>Total {item.currency}: {(item.rate * item.amount).toFixed(2)}</p>\n            <button onClick={handleRemove(item)}>Remove</button>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Basket;","import React, { useState, useEffect } from 'react';\n\nfunction Summary(props) {\n  const { basket } = props;\n\n  const [ cost, setCost ] = useState(0);\n\n  useEffect(() => {\n    if (basket.length === 0) {\n      setCost(0);\n    } else {\n      let amounts = [];\n      basket.forEach(item => {\n        amounts.push(item.amount);\n      });\n      const reducer = (accumulator, currentValue) => accumulator + currentValue;\n      const sum = amounts.reduce(reducer);      \n      setCost(sum);\n    }\n  }, [basket])\n\n  const handleBuy = () => {\n    alert(\"You bought the currency! WHY?!\")\n  }\n\n\n  return (\n    <div className=\"Summary\">\n      <p>Total cost: Â£{cost}</p>\n      <button onClick={handleBuy}>Buy</button>\n    </div>\n  );\n}\n\nexport default Summary;","import React from 'react';\nimport Basket from './Basket';\nimport Summary from './Summary';\n\nfunction Checkout(props) {\n  const { basket } = props; \n\n  const handleRemove = (item) => {\n    props.onRemove(item);\n  }\n  \n  return (\n    <div className=\"Checkout\">\n      <h2>Checkout</h2>\n      <Basket basket={basket} onRemove={handleRemove}/>\n      <Summary basket={basket}/>\n    </div>\n  );\n}\n\nexport default Checkout;","import React from 'react';\n\nfunction Footer(props) {\n  return (\n    <div className=\"Footer\">\n      <p>\n        Currency rates provided by <a href=\"https://www.frankfurter.app/\">Frankfurter</a>\n      </p>\n    </div>\n  );\n}\n\nexport default Footer;","import React, { useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route, \n  Link\n} from 'react-router-dom';\nimport Home from './components/Home';\nimport StickyBar from './components/StickyBar';\nimport Shop from './components/shop-components/Shop';\nimport ItemDetail from './components/shop-components/ItemDetail';\nimport Checkout from './components/checkout-components/Checkout';\nimport Footer from './components/Footer';\n\n\nfunction App() {\n\n  const [ basket, setBasket ] = useState([]);\n\n  // Checks to see if the current purchased item already exists in the cart\n  // If it already exists, it adds to the existing amount\n  // If not, it concatenates it on to the basket\n  const handleSubmit = (newItem) => {\n    const oldBasket = basket;\n    let newBasket;\n\n    if (oldBasket.length > 0) {\n      const index = oldBasket.findIndex((oldItem) => (oldItem.currency === newItem.currency));\n      if (index === -1) {\n        newBasket = oldBasket.concat(newItem);\n      } else {\n        oldBasket[index].amount += newItem.amount;\n        newBasket = oldBasket;\n      }\n    } else {\n      newBasket = oldBasket.concat(newItem);\n    }\n    setBasket(newBasket);\n  }\n\n  const handleRemove = (removedItem) => {\n    const oldBasket = basket;\n    const newBasket = oldBasket.filter((item) => (item.currency !== removedItem.currency));\n    setBasket(newBasket);\n  }\n\n  return (    \n    <Router>\n      <div className=\"AppContent\">\n        <nav>\n          <Link to=\"/shopping-cart/\" id=\"HomeLink\">Home</Link>\n          <Link to=\"/shop\" id=\"ShopLink\">Shop</Link>\n        </nav>\n        <Switch>\n          <Route exact path=\"/shopping-cart/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/shop\">\n            <StickyBar basketLength={basket.length}/>\n            <Shop onSubmit={handleSubmit} />\n          </Route>\n          <Route path=\"/shop/:currency\">\n            <StickyBar basketLength={basket.length}/>\n            <ItemDetail onSubmit={handleSubmit}/>\n          </Route>\n          <Route path=\"/checkout\">\n            <Checkout basket={basket} onRemove={handleRemove}/>\n          </Route>\n        </Switch>\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}